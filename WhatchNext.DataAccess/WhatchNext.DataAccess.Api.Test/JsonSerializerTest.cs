using System;
using Microsoft.VisualStudio.TestTools.UnitTesting;
using WhatchNext.DataAccess.Api.Tmdb;
using WhatchNext.DataAccess.Api.Trakt;
using System.Linq;
using Newtonsoft.Json;
using System.Collections.Generic;
using System.Web.Script.Serialization;

namespace WhatchNext.DataAccess.Api.Test
{
    [TestClass]
    public class JsonSerializerTest
    {
        #region Tmdb Serialization Tests

        private string GetTmdbShowDataJson()
        {
            //return @"[{""type"":""show"",""score"":null,""show"":{""title"":""Band of Brothers"",""overview"":""The miniseries follows Easy Company, an army unit during World War II, from their initial training at Camp Toccoa to the conclusion of the war.The series is based on the book written by the late Stephen E.Ambrose.Band of Brothers is executive produced by Steven Spielberg and Tom Hanks, the series won 6 Emmy Awards. "",""year"":2001,""status"":""ended"",""images"":{""poster"":{""full"":""https://walter.trakt.us/images/shows/000/004/589/posters/original/9f4cde5d16.jpg"",""medium"":""https://walter.trakt.us/images/shows/000/004/589/posters/medium/9f4cde5d16.jpg"",""thumb"":""https://walter.trakt.us/images/shows/000/004/589/posters/thumb/9f4cde5d16.jpg""},""fanart"":{""full"":""https://walter.trakt.us/images/shows/000/004/589/fanarts/original/3e24c4deec.jpg"",""medium"":""https://walter.trakt.us/images/shows/000/004/589/fanarts/medium/3e24c4deec.jpg"",""thumb"":""https://walter.trakt.us/images/shows/000/004/589/fanarts/thumb/3e24c4deec.jpg""}},""ids"":{""trakt"":4589,""slug"":""band-of-brothers"",""tvdb"":74205,""imdb"":""tt0185906"",""tmdb"":4613,""tvrage"":2708}}},{""type"":""movie"",""score"":null,""movie"":{""title"":""Scorched"",""overview"":""Three bank tellers. One goal: knock the place over. The ultimate inside jobs, plotted by three people with nothing to lose."",""year"":2003,""images"":{""poster"":{""full"":""https://walter.trakt.us/images/movies/000/002/714/posters/original/ad1244e531.jpg"",""medium"":""https://walter.trakt.us/images/movies/000/002/714/posters/medium/ad1244e531.jpg"",""thumb"":""https://walter.trakt.us/images/movies/000/002/714/posters/thumb/ad1244e531.jpg""},""fanart"":{""full"":""https://walter.trakt.us/images/movies/000/002/714/fanarts/original/7ea94628ec.jpg"",""medium"":""https://walter.trakt.us/images/movies/000/002/714/fanarts/medium/7ea94628ec.jpg"",""thumb"":""https://walter.trakt.us/images/movies/000/002/714/fanarts/thumb/7ea94628ec.jpg""}},""ids"":{""trakt"":2714,""slug"":""scorched-2003"",""imdb"":""tt0286947"",""tmdb"":4613}}},{""type"":""person"",""score"":null,""person"":{""name"":""Nile Rodgers"",""images"":{""headshot"":{""full"":null,""medium"":null,""thumb"":null}},""ids"":{""trakt"":3342,""slug"":""nile-rodgers"",""imdb"":""nm0734755"",""tmdb"":4613,""tvrage"":64526}}}]";

            return @"{""backdrop_path"":"" / 1LrtAhWPSEetJLjblXvnaYtl7eA.jpg"",""created_by"":[{""id"":488,""name"":""Steven Spielberg"",""profile_path"":"" / pOK15UNaw75Bzj7BQO1ulehbPPm.jpg""},{""id"":31,""name"":""Tom Hanks"",""profile_path"":"" / a14CNByTYALAPSGlwlmfHILpEIW.jpg""}],""episode_run_time"":[60],""first_air_date"":""2001 - 09 - 09"",""genres"":[{""id"":28,""name"":""Action""},{""id"":12,""name"":""Adventure""},{""id"":18,""name"":""Drama""},{""id"":10752,""name"":""War""}],""homepage"":""http://www.hbo.com/band-of-brothers"",""id"":4613,""in_production"":false,""languages"":[""de"",""fr"",""lt"",""nl"",""en""],""last_air_date"":""2001-11-04"",""name"":""Band of Brothers"",""networks"":[{""id"":49,""name"":""HBO""}],""number_of_episodes"":10,""number_of_seasons"":1,""origin_country"":[""GB"",""US""],""original_language"":""en"",""original_name"":""Band of Brothers"",""overview"":""Drawn from interviews with survivors of Easy Company, as well as their journals and letters, Band of Brothers chronicles the experiences of these men from paratrooper training in Georgia through the end of the war. As an elite rifle company parachuting into Normandy early on D-Day morning, participants in the Battle of the Bulge, and witness to the horrors of war, the men of Easy knew extraordinary bravery and extraordinary fear - and became the stuff of legend. Based on Stephen E. Ambrose's acclaimed book of the same name."",""popularity"":3.435181,""poster_path"":""/bUrt6oeXd04ImEwQjO9oLjRguaA.jpg"",""production_companies"":[{""name"":""DreamWorks SKG"",""id"":27},{""name"":""HBO Films"",""id"":7429},{""name"":""DreamWorks Television"",""id"":15258}],""seasons"":[{""air_date"":null,""episode_count"":4,""id"":14071,""poster_path"":""/bMN9iiSAdnmAjflREfCCH0TTNyQ.jpg"",""season_number"":0},{""air_date"":""2001-09-09"",""episode_count"":10,""id"":14070,""poster_path"":""/15SN18OVbYt12Wzttclh51Sz9m1.jpg"",""season_number"":1}],""status"":""Ended"",""type"":""Scripted"",""vote_average"":8.5,""vote_count"":47}";
        }

        private string GetTmdbShowImagesJson()
        {
            return @"{""backdrops"":[{""aspect_ratio"":1.77777777777778,""file_path"":"" / nlD2J47bAQ6fAjcUVeyZTvs4gII.jpg"",""height"":1080,""iso_639_1"":null,""vote_average"":5.3125,""vote_count"":1,""width"":1920},{""aspect_ratio"":1.77777777777778,""file_path"":"" / zGe6vF5CUMOk2Wp7i2lECU9vlUS.jpg"",""height"":1125,""iso_639_1"":null,""vote_average"":5.3125,""vote_count"":1,""width"":2000},{""aspect_ratio"":1.77777777777778,""file_path"":"" / d6Aidd0YoC2WYEYSJRAl63kQnYK.jpg"",""height"":1080,""iso_639_1"":null,""vote_average"":5.3125,""vote_count"":1,""width"":1920},{""aspect_ratio"":1.77777777777778,""file_path"":"" / 3GWMm7u7pEnNPb2f98V929fhNgm.jpg"",""height"":1080,""iso_639_1"":null,""vote_average"":5.3125,""vote_count"":1,""width"":1920},{""aspect_ratio"":1.77777777777778,""file_path"":"" / 9ix56GHQaAlr8Pdvx3D17RNgtFG.jpg"",""height"":1080,""iso_639_1"":null,""vote_average"":5.3125,""vote_count"":1,""width"":1920},{""aspect_ratio"":1.77725118483412,""file_path"":"" / e25yuYcaLtUQo7GCIAceSr642uZ.jpg"",""height"":1688,""iso_639_1"":null,""vote_average"":5.30505952380952,""vote_count"":1,""width"":3000},{""aspect_ratio"":1.77777777777778,""file_path"":"" / iUpttbtLlW3Yr8rCaAjj7fk1KmV.jpg"",""height"":1080,""iso_639_1"":null,""vote_average"":5.16369047619048,""vote_count"":1,""width"":1920},{""aspect_ratio"":1.77777777777778,""file_path"":"" / 1tSa3vq4MDWot8fJLuO5uhR5epW.jpg"",""height"":1080,""iso_639_1"":null,""vote_average"":5.16369047619048,""vote_count"":1,""width"":1920},{""aspect_ratio"":1.77777777777778,""file_path"":"" / 1qX5zQpJcmkv1DcfmJ6PbJRUkNj.jpg"",""height"":1080,""iso_639_1"":null,""vote_average"":0.0,""vote_count"":0,""width"":1920},{""aspect_ratio"":1.77777777777778,""file_path"":"" / zmnocv7WE9dwUz30jnEve7Dzv2p.jpg"",""height"":1080,""iso_639_1"":null,""vote_average"":0.0,""vote_count"":0,""width"":1920},{""aspect_ratio"":1.77777777777778,""file_path"":"" / pwiOfSPydiIIJmroEiJpiid4m73.jpg"",""height"":720,""iso_639_1"":null,""vote_average"":0.0,""vote_count"":0,""width"":1280},{""aspect_ratio"":1.77777777777778,""file_path"":"" / fDBQOMXvMHYuKnCc9esTWzGJWzG.jpg"",""height"":1080,""iso_639_1"":null,""vote_average"":0.0,""vote_count"":0,""width"":1920},{""aspect_ratio"":1.77777777777778,""file_path"":"" / 3hxumJASsmKnitdf0qUfhnGJaUj.jpg"",""height"":1080,""iso_639_1"":null,""vote_average"":0.0,""vote_count"":0,""width"":1920},{""aspect_ratio"":1.77777777777778,""file_path"":"" / dmQCvP33HmZcoJz7eID51Dh71sD.jpg"",""height"":1080,""iso_639_1"":null,""vote_average"":0.0,""vote_count"":0,""width"":1920},{""aspect_ratio"":1.77777777777778,""file_path"":"" / lBn78MfeT0Ig4D6O8Gl4wzKK63p.jpg"",""height"":720,""iso_639_1"":""en"",""vote_average"":0.0,""vote_count"":0,""width"":1280},{""aspect_ratio"":1.77777777777778,""file_path"":"" / 5wLYcQhuTGRflqJ8v3ZFrYqwmO6.jpg"",""height"":720,""iso_639_1"":""en"",""vote_average"":0.0,""vote_count"":0,""width"":1280},{""aspect_ratio"":1.77777777777778,""file_path"":"" / 1kR0WexKHXW3vMwnCrXlxDHzsD2.jpg"",""height"":720,""iso_639_1"":null,""vote_average"":0.0,""vote_count"":0,""width"":1280},{""aspect_ratio"":1.77777777777778,""file_path"":"" / 7F5Qca5dUFzJNDLxnAMFZmcVxCE.jpg"",""height"":720,""iso_639_1"":null,""vote_average"":0.0,""vote_count"":0,""width"":1280},{""aspect_ratio"":1.77777777777778,""file_path"":"" / 4wU3BvdoZeTZe9rJqcyyHbkj3PJ.jpg"",""height"":720,""iso_639_1"":null,""vote_average"":0.0,""vote_count"":0,""width"":1280},{""aspect_ratio"":1.77777777777778,""file_path"":"" / 1xpyvpRkXuddJ2CfwdSkizWzLf2.jpg"",""height"":720,""iso_639_1"":null,""vote_average"":0.0,""vote_count"":0,""width"":1280},{""aspect_ratio"":1.77777777777778,""file_path"":"" / i41aPYAIOcE0GKEKDeQQbGT0UBX.jpg"",""height"":720,""iso_639_1"":null,""vote_average"":0.0,""vote_count"":0,""width"":1280},{""aspect_ratio"":1.77777777777778,""file_path"":"" / zGDye0EulpCbpPaprTLyWF4x8Pm.jpg"",""height"":720,""iso_639_1"":""en"",""vote_average"":0.0,""vote_count"":0,""width"":1280},{""aspect_ratio"":1.77777777777778,""file_path"":"" / 5KPXhNJvuDd42RvL1khhkA8VCUf.jpg"",""height"":720,""iso_639_1"":null,""vote_average"":0.0,""vote_count"":0,""width"":1280},{""aspect_ratio"":1.77777777777778,""file_path"":"" / KdGDIXtcM3a90yOvHCcPZiplIO.jpg"",""height"":720,""iso_639_1"":""en"",""vote_average"":0.0,""vote_count"":0,""width"":1280},{""aspect_ratio"":1.77777777777778,""file_path"":"" / xTQz4mlH1KTuebPbrq2bA3LAiJf.jpg"",""height"":2160,""iso_639_1"":null,""vote_average"":0.0,""vote_count"":0,""width"":3840},{""aspect_ratio"":1.77777777777778,""file_path"":"" / v9s5fh4CdFQyajbngecLzAk4qzk.jpg"",""height"":720,""iso_639_1"":null,""vote_average"":0.0,""vote_count"":0,""width"":1280},{""aspect_ratio"":1.77777777777778,""file_path"":"" / fjHWHdYR59ZI5oAM1RGqEbpbBR9.jpg"",""height"":1080,""iso_639_1"":null,""vote_average"":0.0,""vote_count"":0,""width"":1920},{""aspect_ratio"":1.77777777777778,""file_path"":"" / iQTpycb0aDk0uj7p9Nv4iCinXQS.jpg"",""height"":720,""iso_639_1"":null,""vote_average"":0.0,""vote_count"":0,""width"":1280}],""id"":19885,""posters"":[{""aspect_ratio"":0.666666666666667,""file_path"":"" / duKnuwcPgDlmFD7l4u0BYHNappm.jpg"",""height"":3000,""iso_639_1"":""en"",""vote_average"":5.42717086834734,""vote_count"":5,""width"":2000},{""aspect_ratio"":0.666666666666667,""file_path"":"" / vHXZGe5tz4fcrqki9ZANkJISVKg.jpg"",""height"":3000,""iso_639_1"":""en"",""vote_average"":5.38992408557626,""vote_count"":6,""width"":2000},{""aspect_ratio"":0.666666666666667,""file_path"":"" / olEvPreFFuPJFxoukqQYL0zkY2k.jpg"",""height"":2100,""iso_639_1"":""en"",""vote_average"":5.23809523809524,""vote_count"":2,""width"":1400},{""aspect_ratio"":0.68,""file_path"":"" / z23NMvvJMUrrUPkCR6tPwdfCRCP.jpg"",""height"":1000,""iso_639_1"":""en"",""vote_average"":5.17113095238095,""vote_count"":1,""width"":680},{""aspect_ratio"":0.706666666666667,""file_path"":"" / w7V7mK1oGRrTJPXM150RzN1y6YP.jpg"",""height"":1500,""iso_639_1"":""en"",""vote_average"":5.17113095238095,""vote_count"":1,""width"":1060},{""aspect_ratio"":0.68,""file_path"":"" / pJ1kDr2lDfLdV6hVZ5NZaVC5JX4.jpg"",""height"":1000,""iso_639_1"":""en"",""vote_average"":5.17113095238095,""vote_count"":1,""width"":680},{""aspect_ratio"":0.68,""file_path"":"" / nfcUtjnGj7eDczuMtPTrIfpQhE6.jpg"",""height"":1000,""iso_639_1"":""en"",""vote_average"":5.17113095238095,""vote_count"":1,""width"":680},{""aspect_ratio"":0.68,""file_path"":"" / 4E3GAgKKYw6nPsWbjkekrsfJGl2.jpg"",""height"":1000,""iso_639_1"":""en"",""vote_average"":5.17113095238095,""vote_count"":1,""width"":680},{""aspect_ratio"":0.68,""file_path"":"" / wpoXEy7F0FxCOLGIde74AiSSpEM.jpg"",""height"":1000,""iso_639_1"":""en"",""vote_average"":5.17113095238095,""vote_count"":1,""width"":680},{""aspect_ratio"":0.68,""file_path"":"" / 89KOp7R1dfL6jGcCbybhADu189k.jpg"",""height"":1000,""iso_639_1"":""en"",""vote_average"":5.17113095238095,""vote_count"":1,""width"":680},{""aspect_ratio"":0.68,""file_path"":"" / qOYgrfXcKxoFC2X53bdgCNJ22JJ.jpg"",""height"":1000,""iso_639_1"":""en"",""vote_average"":5.17113095238095,""vote_count"":1,""width"":680},{""aspect_ratio"":0.68,""file_path"":"" / lHOrGIsCvKSZFirwvvDlhvWdgYT.jpg"",""height"":1000,""iso_639_1"":""en"",""vote_average"":5.17113095238095,""vote_count"":1,""width"":680},{""aspect_ratio"":0.68,""file_path"":"" / 1Te8cpxYZ9edi0quq5aQ0JREwZk.jpg"",""height"":1000,""iso_639_1"":""en"",""vote_average"":5.17113095238095,""vote_count"":1,""width"":680},{""aspect_ratio"":0.68,""file_path"":"" / aCt2etumGt5aAXCyMoZALqXhnqD.jpg"",""height"":1000,""iso_639_1"":""en"",""vote_average"":5.15151515151515,""vote_count"":3,""width"":680},{""aspect_ratio"":0.68,""file_path"":"" / SHTZDvBNfkbdtZjclVFJuP7TiH.jpg"",""height"":1000,""iso_639_1"":""ru"",""vote_average"":0.0,""vote_count"":0,""width"":680},{""aspect_ratio"":0.68,""file_path"":"" / Am1f6tg1k79XBSFjkKVSlcyaqp0.jpg"",""height"":1000,""iso_639_1"":""ru"",""vote_average"":0.0,""vote_count"":0,""width"":680}]}";
        }

        private string GetTmdbShowTrailerJson()
        {
            return @"{""id"":19885,""results"":[{""id"":""55301c9ec3a3686be2007136"",""iso_639_1"":""en"",""key"":""ApNy2RWzLXA"",""name"":""Opening Credits"",""site"":""YouTube"",""size"":720,""type"":""Opening Credits""},{""id"":""555f1b489251417e51002748"",""iso_639_1"":""en"",""key"":""JP5Dr63TbSU"",""name"":""Trailer"",""site"":""YouTube"",""size"":720,""type"":""Trailer""}]}";
        }

        private string GetTmdbSimilarShowJson()
        {
            return @"{""page"":1,""results"":[{""backdrop_path"":"" / w6SaYrbwR5PY4mcrJYIXfWC5Ker.jpg"",""first_air_date"":""2012 - 09 - 27"",""genre_ids"":[18,9648,80],""id"":1415,""original_language"":""en"",""original_name"":""Elementary"",""overview"":""A modern-day drama about a crime-solving duo that cracks the NYPD's most impossible cases. Following his fall from grace in London and a stint in rehab, eccentric Sherlock escapes to Manhattan where his wealthy father forces him to live with his worst nightmare - a sober companion, Dr. Watson."",""origin_country"":[""US""],""poster_path"":""/jXL3G8BohotsaKb4wcSwz3s4zxI.jpg"",""popularity"":13.621259,""name"":""Elementary"",""vote_average"":7.1,""vote_count"":50},{""backdrop_path"":""/ocWDGFHxddYWcZYeenO1y7ULeIi.jpg"",""first_air_date"":""2011-10-28"",""genre_ids"":[18,14,9648],""id"":39351,""original_language"":""en"",""original_name"":""Grimm"",""overview"":""After Portland homicide detective Nick Burkhardt discovers he's descended from an elite line of criminal profilers known as \""Grimms,\"" he increasingly finds his responsibilities as a detective at odds with his new responsibilities as a Grimm."",""origin_country"":[""US""],""poster_path"":""/efrDcB26bugOroNshsPSrPEwJAI.jpg"",""popularity"":15.849868,""name"":""Grimm"",""vote_average"":7.1,""vote_count"":53},{""backdrop_path"":""/ibU4iTytIlcxYJqRJsNUEBp6te5.jpg"",""first_air_date"":""2015-11-20"",""genre_ids"":[10765,18],""id"":38472,""original_language"":""en"",""original_name"":""Marvel's Jessica Jones"",""overview"":""After a tragic ending to her short-lived super hero stint, Jessica Jones is rebuilding her personal life and career as a detective who gets pulled into cases involving people with extraordinary abilities in New York City."",""origin_country"":[""US""],""poster_path"":""/8a7e2GNpMnjI2hgRZH3jq2c7ffv.jpg"",""popularity"":26.417272,""name"":""Marvel's Jessica Jones"",""vote_average"":6.1,""vote_count"":6},{""backdrop_path"":""/6u4YG0oNzhFaFJs080ljlpSgpfD.jpg"",""first_air_date"":""2008-01-19"",""genre_ids"":[18],""id"":1396,""original_language"":""en"",""original_name"":""Breaking Bad"",""overview"":""Breaking Bad is an American crime drama television series created and produced by Vince Gilligan. Set and produced in Albuquerque, New Mexico, Breaking Bad is the story of Walter White, a struggling high school chemistry teacher who is diagnosed with inoperable lung cancer at the beginning of the series. He turns to a life of crime, producing and selling methamphetamine, in order to secure his family's financial future before he dies, teaming with his former student, Jesse Pinkman. Heavily serialized, the series is known for positioning its characters in seemingly inextricable corners and has been labeled a contemporary western by its creator."",""origin_country"":[""US""],""poster_path"":""/1yeVJox3rjo2jBKrrihIMj7uoS9.jpg"",""popularity"":18.629945,""name"":""Breaking Bad"",""vote_average"":8.7,""vote_count"":358},{""backdrop_path"":""/bRFmBU0VPr9s1oeJHuS5Zb5nZQS.jpg"",""first_air_date"":""2014-09-22"",""genre_ids"":[18,14,53,80],""id"":60708,""original_language"":""en"",""original_name"":""Gotham"",""overview"":""Before there was Batman, there was GOTHAM. \n\nEveryone knows the name Commissioner Gordon. He is one of the crime world's greatest foes, a man whose reputation is synonymous with law and order. But what is known of Gordon's story and his rise from rookie detective to Police Commissioner? What did it take to navigate the multiple layers of corruption that secretly ruled Gotham City, the spawning ground of the world's most iconic villains? And what circumstances created them – the larger-than-life personas who would become Catwoman, The Penguin, The Riddler, Two-Face and The Joker? "",""origin_country"":[""US""],""poster_path"":""/z2iR0vmuoEU5eL2ONwygDuzzlOy.jpg"",""popularity"":11.579857,""name"":""Gotham"",""vote_average"":7.5,""vote_count"":87},{""backdrop_path"":""/3yEWtovnHq2uJ2tikLM6DTUv0kZ.jpg"",""first_air_date"":""2015-09-21"",""genre_ids"":[28,80,18],""id"":62710,""original_language"":""en"",""original_name"":""Blindspot"",""overview"":""A vast international plot explodes when a beautiful Jane Doe is discovered naked in Times Square, completely covered in mysterious, intricate tattoos with no memory of who she is or how she got there. But there's one tattoo that is impossible to miss: the name of FBI agent Kurt Weller, emblazoned across her back. \""Jane,\"" Agent Weller and the rest of the FBI quickly realize that each mark on her body is a crime to solve, leading them closer to the truth about her identity and the mysteries to be revealed."",""origin_country"":[""US""],""poster_path"":""/8w4m4TvtxfQOEQ2UcUEgidgBasg.jpg"",""popularity"":10.987007,""name"":""Blindspot"",""vote_average"":5.5,""vote_count"":20},{""backdrop_path"":""/buySROfEWDFerqifesuWhPZ8Soi.jpg"",""first_air_date"":""2013-08-22"",""genre_ids"":[18,10759,80],""id"":46975,""original_language"":""en"",""original_name"":""Crossing Lines"",""overview"":""Through globalization, many countries have been opened and barriers removed to ensure easy trade, travel and cultural diversity. However, this openness has given opportunities to criminals looking to exploit the system and ultimately threaten our global safety. As Europe has become a \""safe house\"" for criminals eluding law enforcers, a special kind of law enforcement team is needed to handle specific ongoing crimes on a global level. \""Crossing Lines\"" is the story of one such team, made up of five international cops, headed by Captain Daniel. The team - comprised of individuals who have little in common - must learn to live and work under the most dangerous and potentially deadly conditions. Housed in an unused storage section underneath the ICC, this mismatched team faces bureaucratic, jurisdictional and cultural obstacles while traversing continents in pursuit of justice."",""origin_country"":[""BE"",""FR"",""DE"",""US""],""poster_path"":""/agUj85dfcyAstInOzHa6bQGI2gp.jpg"",""popularity"":9.47614,""name"":""Crossing Lines"",""vote_average"":6.8,""vote_count"":9},{""backdrop_path"":""/mmrIpQn3o0ATBe92gSMelopdh2L.jpg"",""first_air_date"":""2014-09-25"",""genre_ids"":[18,80],""id"":61056,""original_language"":""en"",""original_name"":""How to Get Away with Murder"",""overview"":""A sexy, suspense-driven legal thriller about a group of ambitious law students and their brilliant, mysterious criminal defense professor. They become entangled in a murder plot and will shake the entire university and change the course of their lives."",""origin_country"":[""US""],""poster_path"":""/jGX0Kvnxhq8z6Q32ZaEQSwaeo9Z.jpg"",""popularity"":9.046481,""name"":""How to Get Away with Murder"",""vote_average"":7.0,""vote_count"":25},{""backdrop_path"":""/lMEX9TOz1TgW5B6AzpXp3uhOTyF.jpg"",""first_air_date"":""2004-11-16"",""genre_ids"":[28,18,9648,35],""id"":1408,""original_language"":""en"",""original_name"":""House"",""overview"":""House is an American television medical drama that originally ran on the Fox network for eight seasons, from November 16, 2004 to May 21, 2012. The show's main character is Dr. Gregory House, a drug-addicted, unconventional, misanthropic medical genius who leads a team of diagnosticians at the fictional Princeton–Plainsboro Teaching Hospital in New Jersey."",""origin_country"":[""US""],""poster_path"":""/lxSzRZ49NXwsiyHuvMsd19QxduC.jpg"",""popularity"":7.834542,""name"":""House"",""vote_average"":8.3,""vote_count"":103},{""backdrop_path"":""/12gvsDDSBPux5aAUO1G5Hx26PLH.jpg"",""first_air_date"":""2015-03-06"",""genre_ids"":[80,53],""id"":62146,""original_language"":""en"",""original_name"":""100 Code"",""overview"":""New York. Stockholm. Over the course of the last 12 months, young, blonde and blue-eyed women have been turning up dead in a field of asphodel flowers. Through a special dispensation from the NYPD, Detective Tommy Conley is given permission to observe and advise the Stockholm PD.Upon his arrival in Sweden, he is paired with Mikael Eklund, a by-the-book Swedish cop with an aversion to American grab-and-go culture. Both hate each other, but the two had better straighten out their differences as the killings continue. Jobs aside, both cops are fighting demons from the past. Conley's guilt over his girlfriend Maggie's death continues to haunt him. He is forced to confront his past when he starts dating Charlie, the owner of a local American sports bar. Eklund's need to be a better father to Hanna is what drives him, but with the investigation intensifying it proves more and more difficult – he seems to fall into old patterns again. As the investigation unfolds, Conley and Eklund are led along a path of no return, to a killer behind the prolific murders. But who is he and what is he after?"",""origin_country"":[""US"",""SE""],""poster_path"":""/8fLcmro0sU0ktJAmjiSx7Am9Wy7.jpg"",""popularity"":6.33089,""name"":""100 Code"",""vote_average"":9.1,""vote_count"":5},{""backdrop_path"":""/rYAZP9ik0IhnAo8XjKEN87gmNbL.jpg"",""first_air_date"":""2006-07-07"",""genre_ids"":[9648,18,35],""id"":1447,""original_language"":""en"",""original_name"":""Psych"",""overview"":""Psych is an American detective comedy-drama television series created by Steve Franks and broadcast on USA Network. The series stars James Roday as Shawn Spencer, a young crime consultant for the Santa Barbara Police Department whose \""heightened observational skills\"" and impressive detective instincts allow him to convince people that he solves cases with psychic abilities. The program also stars Dulé Hill as Shawn's best friend and reluctant partner Burton \""Gus\"" Guster, as well as Corbin Bernsen as Shawn's father, Henry, a former officer of the Santa Barbara Police Department."",""origin_country"":[""US""],""poster_path"":""/uLNpc2BKJ5ZMAVr3HMMeCWy3xaa.jpg"",""popularity"":5.982153,""name"":""Psych"",""vote_average"":7.0,""vote_count"":25},{""backdrop_path"":""/mlChBJ8Y4rvbvV7Sw3uiTY6i0Je.jpg"",""first_air_date"":""2015-09-22"",""genre_ids"":[35,27],""id"":62046,""original_language"":""en"",""original_name"":""Scream Queens"",""overview"":""Scream Queens is an anthology series revolving around two female leads each season. The first season focuses on activity at a college campus rocked by a series of murders."",""origin_country"":[""US""],""poster_path"":""/9e3A3bHh0gW7qs3bKS6vYO8dXjx.jpg"",""popularity"":4.569283,""name"":""Scream Queens"",""vote_average"":5.9,""vote_count"":6},{""backdrop_path"":""/5uBupsPsSlvQl7BROqLFooFMToj.jpg"",""first_air_date"":""1984-10-16"",""genre_ids"":[80,18],""id"":2072,""original_language"":""en"",""original_name"":""The Bill"",""overview"":""The Bill is a police procedural television series that was broadcast on the ITV network from 16 October 1984 until 31 August 2010. The programme originated from a one-off drama, entitled Woodentop, which was broadcast in August 1983. In its final year on air, The Bill was broadcast once a week, usually on Tuesdays or Thursdays, in a one-hour format. The programme focused on the lives and work of one shift of police officers, rather than on any particular aspect of police work. At the time of the series' conclusion, The Bill was the longest-running police procedural television series in the United Kingdom, and was among the longest-running of any British television series. The series was produced by Thames Television. The series name originated from \""Old Bill\"", a slang term for the police. This was also Geoff McQueen's original title idea for the series, before he eventually decided on \""The Bill\"".\n\nAlthough highly acclaimed amongst fans and critics alike, the series attracted controversy on several occasions. An episode broadcast in 2008 was criticised for featuring fictional treatment for multiple sclerosis, and another episode in the same year resulted in litigation, submitted by MP George Galloway for defamation. The series has also faced more general criticism, concerning the levels of violence it portrays, particularly prior to 2009, when it occupied a pre-watershed slot. During its time on air, The Bill won several awards, including BAFTAs, a Writers' Guild of Great Britain award and the title of \""best drama\"" at the Inside Soap Awards in 2009, the latter being the series' fourth consecutive win. Throughout its twenty-seven-year run, the programme was always broadcast on the main ITV network. In later years, episodes of the show were repeated on ITV3 on their week of broadcast. The series has also been repeated on other digital stations, including UKTV Gold, Alibi, Watch and UKTV G2. In March 2010, executives at ITV announced that the network did not intend to recommission The Bill, and that filming on the series would cease on 14 June 2010. The last ever episode of the series was aired on 31 August 2010."",""origin_country"":[""GB""],""poster_path"":""/3Pa3nrW5oxkmWI0cdunbqFaEcdo.jpg"",""popularity"":5.030007,""name"":""The Bill"",""vote_average"":0.0,""vote_count"":0},{""backdrop_path"":""/gDzIxYE6XcSFbQx0Fi8TBSzME0w.jpg"",""first_air_date"":""2002-07-12"",""genre_ids"":[9648,18,35],""id"":1695,""original_language"":""en"",""original_name"":""Monk"",""overview"":""Monk is an American comedy-drama detective mystery television series created by Andy Breckman and starring Tony Shalhoub as the eponymous character, Adrian Monk. It originally ran from 2002 to 2009 and is primarily a mystery series, although it has dark and comic touches. The series was produced by Mandeville Films and Touchstone Television in association with Universal Television.\n\nThe series debuted on July 12, 2002, on USA Network. It was well received and continued for eight seasons, with the final season concluding on December 4, 2009. The series held the record for the most-watched scripted drama episode in cable television history from 2009 through 2012 with \""Mr. Monk and the End – Part II\"", its last episode and finale, with 9.4 million viewers, 3.2 million of them in the 18–49 demographic."",""origin_country"":[""US""],""poster_path"":""/y6cIi3pbf7zJOboCohOnrKBpnlF.jpg"",""popularity"":3.844879,""name"":""Monk"",""vote_average"":7.5,""vote_count"":26},{""backdrop_path"":""/fZ8j6F8dxZPA8wE5sGS9oiKzXzM.jpg"",""first_air_date"":""2008-09-03"",""genre_ids"":[28,12,18],""id"":1409,""original_language"":""en"",""original_name"":""Sons of Anarchy"",""overview"":""An adrenalized drama with darkly comedic undertones that explores a notorious outlaw motorcycle club’s (MC) desire to protect its livelihood while ensuring that their simple, sheltered town of Charming, California remains exactly that, charming. The MC must confront threats from drug dealers, corporate developers, and overzealous law officers. Behind the MC’s familial lifestyle and legally thriving automotive shop is a ruthless and illegal arms business driven by the seduction of money, power, and blood."",""origin_country"":[""US""],""poster_path"":""/2qg0MOwPD1G0FcYpDPeu6AOjh8i.jpg"",""popularity"":4.698811,""name"":""Sons of Anarchy"",""vote_average"":7.9,""vote_count"":54},{""backdrop_path"":""/qkKHndnjcb8Wxg0eEtRRFVqtkCS.jpg"",""first_air_date"":""1989-01-08"",""genre_ids"":[18,9648,80,10770],""id"":790,""original_language"":""en"",""original_name"":""Agatha Christie's Poirot"",""overview"":""Agatha Christie's Poirot is a British television drama that premiered on ITV in 1989, where it has remained throughout its airing. David Suchet stars as the titular detective, Agatha Christie's fictional Hercule Poirot. Initially produced by LWT, the current production company is ITV Studios. In the United States, PBS and A&E have aired it as Poirot, which was the title prior to 2004. Series 13 premiered June 9, 2013 and will end with the finale, Curtain, based on the final novel Christie wrote featuring Poirot. At the programs' conclusion, every major literary work by Christie that featured the title character will have been adapted."",""origin_country"":[""GB""],""poster_path"":""/5shIDhTIfRnmUAXMS4wF2GF0NFO.jpg"",""popularity"":2.844838,""name"":""Agatha Christie's Poirot"",""vote_average"":7.9,""vote_count"":12},{""backdrop_path"":""/mC32mlq894Lho4zXK6NUKnZcRgF.jpg"",""first_air_date"":""2012-08-13"",""genre_ids"":[18],""id"":39483,""original_language"":""en"",""original_name"":""Major Crimes"",""overview"":""Major Crimes explores how the American justice system approaches the art of the deals as law enforcement officers and prosecutors work together to score a conviction. Los Angeles Police Captain Sharon Raydor heads up a special squad within the LAPD that deals with high-profile or particularly sensitive crimes."",""origin_country"":[""US""],""poster_path"":""/4kUtFpFb2WsdiH4kqZwoNvodMRZ.jpg"",""popularity"":5.31928,""name"":""Major Crimes"",""vote_average"":7.1,""vote_count"":7},{""backdrop_path"":""/twbSnkm2nKumcykCydlsMpbVMBk.jpg"",""first_air_date"":""2013-05-13"",""genre_ids"":[18,53],""id"":49010,""original_language"":""en"",""original_name"":""The Fall"",""overview"":""A psychological thriller that examines the lives of two hunters. One is a serial killer who stalks his victims in and around Belfast and the other is a talented female Detective Superintendent from the MET who is brought in to catch him. "",""origin_country"":[""GB""],""poster_path"":""/fQpOvnppNdwbzs5Qxus8xsIOVwD.jpg"",""popularity"":3.806169,""name"":""The Fall"",""vote_average"":6.7,""vote_count"":25},{""backdrop_path"":""/uzzMt0yeP8XOw0HQRObIAk8Ntm7.jpg"",""first_air_date"":""1979-03-22"",""genre_ids"":[9648,18,53],""id"":63915,""original_language"":""ru"",""original_name"":""Приключения Шерлока Холмса и доктора Ватсона"",""overview"":""The Adventures of Sherlock Holmes and Dr. Watson is a series of five films produced by Lenfilm for the Soviet Central Television, split into eleven episodes, starring Vasily Livanov as Sherlock Holmes and Vitaly Solomin as Dr. Watson. They were directed by Igor Maslennikov and filmed in Russia (the then Soviet Union) between 1979 and 1986, and the series was one of the most successful in the history of Russian television."",""origin_country"":[""RU""],""poster_path"":null,""popularity"":1.39893,""name"":""The Adventures of Sherlock Holmes and Dr. Watson"",""vote_average"":10.0,""vote_count"":1},{""backdrop_path"":""/hw6eAOrK0ROGKmhRkXCRicVAdr4.jpg"",""first_air_date"":""2015-11-09"",""genre_ids"":[18],""id"":64383,""original_language"":""en"",""original_name"":""London Spy"",""overview"":""Danny is a gregarious, hedonistic romantic who gets drawn into the dangerous world of British espionage in this contemporary, emotional thriller. He falls for the anti-social but enigmatic Alex, both from opposite worlds, and they soon realise they’re perfect for each other. But when Alex suddenly disappears, Danny is utterly ill-equipped to take on his complex and codified world. Young, innocent and adrift he needs to decide whether he’s prepared to fight for the truth?"",""origin_country"":[""GB""],""poster_path"":""/w8BeRMIyLwbH5oj2yQX3rsFDway.jpg"",""popularity"":3.298731,""name"":""London Spy"",""vote_average"":4.0,""vote_count"":2}],""total_pages"":11,""total_results"":202}";
        }

        [TestMethod]
        public void DeserializeTmdbShowData_ValidShowData_ReturnDeserializedObject()
        {
            //Arrange
            string jsonStream = GetTmdbShowDataJson();

            //Act
            var tmdbShowDetails = JsonSerializer.DeserializeSingle<TmdbShowDetailsDto>(jsonStream);

            //Assert
            Assert.IsNotNull(tmdbShowDetails);
            Assert.IsNotNull(tmdbShowDetails.backdrop_path);
        }

        [TestMethod]
        public void DeserializeTmdbShowImages_ValidData_ReturnDeserializedObject()
        {
            //Arrange
            string jsonStream = GetTmdbShowImagesJson();

            //Act
            var tmdbShowImages = JsonSerializer.DeserializeSingle<TmdbShowImagesDto>(jsonStream);

            //Assert
            Assert.IsNotNull(tmdbShowImages);
            Assert.IsNotNull(tmdbShowImages.backdrops);
        }

        [TestMethod]
        public void DeserializeTmdbShowTrailers_ValidData_ReturnDeserializedObect()
        {
            //Arrange
            string jsonStream = GetTmdbShowTrailerJson();

            //Act
            var trailers = JsonSerializer.DeserializeSingle<TmdbShowTrailerDto>(jsonStream);

            //Assert
            Assert.IsNotNull(trailers);
            Assert.IsNotNull(trailers.results.First().key);

        }

        [TestMethod]
        public void DeserializeTmdbSimialrShow_ValidData_ReturnDeserializedObject()
        {
            //Arrange
            string json = GetTmdbSimilarShowJson();

            //Act
            var similar = JsonSerializer.DeserializeSingle<TmdbSimilarShowDetails>(json);

            //Assert
            Assert.IsNotNull(similar);
            Assert.IsNotNull(similar.page);

        }

        #endregion

        #region Trakt Serialization Tests

        private string GetTraktRelatedShows()
        {
            return @"[ { ""title"": ""Attack on Titan"", ""year"": 2013, ""ids"": { ""trakt"": 1420, ""slug"": ""attack - on - titan"", ""tvdb"": 267440, ""imdb"": null, ""tmdb"": 1429, ""tvrage"": null } }, { ""title"": ""Haunted"", ""year"": 2002, ""ids"": { ""trakt"": 3807, ""slug"": ""haunted"", ""tvdb"": 77885, ""imdb"": ""tt0320028"", ""tmdb"": 3830, ""tvrage"": 3801 } }, { ""title"": ""Covert Affairs"", ""year"": 2010, ""ids"": { ""trakt"": 31494, ""slug"": ""covert - affairs"", ""tvdb"": 104281, ""imdb"": ""tt1495708"", ""tmdb"": 31631, ""tvrage"": 23686 } }, { ""title"": ""Teen Wolf"", ""year"": 2011, ""ids"": { ""trakt"": 34375, ""slug"": ""teen - wolf - 2011"", ""tvdb"": 175001, ""imdb"": ""tt1567432"", ""tmdb"": 34524, ""tvrage"": 27575 } }, { ""title"": ""Grimm"", ""year"": 2011, ""ids"": { ""trakt"": 39185, ""slug"": ""grimm"", ""tvdb"": 248736, ""imdb"": ""tt1830617"", ""tmdb"": 39351, ""tvrage"": 28352 } }, { ""title"": ""Deadman Wonderland"", ""year"": 2011, ""ids"": { ""trakt"": 42279, ""slug"": ""deadman - wonderland"", ""tvdb"": 247997, ""imdb"": ""tt1909447"", ""tmdb"": 42503, ""tvrage"": null } }, { ""title"": ""Bates Motel"", ""year"": 2013, ""ids"": { ""trakt"": 46510, ""slug"": ""bates - motel"", ""tvdb"": 262414, ""imdb"": ""tt2188671"", ""tmdb"": 46786, ""tvrage"": 32210 } }, { ""title"": ""Dominion"", ""year"": 2014, ""ids"": { ""trakt"": 60258, ""slug"": ""dominion"", ""tvdb"": 277462, ""imdb"": ""tt3079768"", ""tmdb"": 60685, ""tvrage"": 36889 } }, { ""title"": ""Limit"", ""year"": 2013, ""ids"": { ""trakt"": 72389, ""slug"": ""limit"", ""tvdb"": 271478, ""imdb"": null, ""tmdb"": null, ""tvrage"": null } }, { ""title"": ""Ajin"", ""year"": 2016, ""ids"": { ""trakt"": 102203, ""slug"": ""ajin"", ""tvdb"": 300835, ""imdb"": null, ""tmdb"": null, ""tvrage"": null } } ]";
        }



        [TestMethod]
        public void DeserializeTraktRelatedShows_ValidData_ReturnDeserializedObject()
        {
            //Arrange
            string json = GetTraktRelatedShows();

            //Act
            var similar = JsonSerializer.DeserializeList<TraktRelatedShowDetails>(json);

            //Assert
            Assert.IsNotNull(similar);
        }
        #endregion
    }
}
